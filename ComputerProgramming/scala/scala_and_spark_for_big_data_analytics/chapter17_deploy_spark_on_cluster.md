# 17장 클러스터에 스파크 배포

17장에서 다루는 내용

* 클러스터의 스파크 아키텍처
* 스파크 생태계와 클러스터 관리
* 클러스터에 스파크 배포
* 독립형 클러스터에 스파크 배포
* 메소스 클러스터에 스파크 배포
* 얀 클러스터에 스파크 배포
* 쿠버네티스 클러스터에 스파크 배포
* 클라우드 기반에 배포
* AWS에 스파크 배포

## 클러스터의 스파크 아키텍처

* 스파크의 주요 빅데이터 패러다임
  * 인메모리 컴퓨팅
  * 캐싱 추상화 (?)

### 간단히 살펴본 스파크 생태계

스파크 코어 엔진의 주요 컴포넌트/API는 다음과 같다.

1. 스파크 SQL
1. 스파크 스트리밍
1. 스파크 MLlib와 스파크 ML
1. GraphX
1. SparkR

### 클러스터 설계
* 스파크는 분산 및 병렬 처리 시스템이며, 인메모리 컴퓨팅 기능도 제공한다.
* 일반적으로 방화벽은 클러스터에 보안을 추가할 수 있지만 복잡성은 증가된다.

### 클러스터 관리
스파크 컨텍스트는 다음을 통해 정의될 수 있다

* 스파크 설정 객체(즉 SparkConf)
* 스파크 URL

#### 가상 클러스터 모드(즉 스파크 로컬)

#### 독립형

#### 아파치 얀

#### 아파치 메소스
아파치 메소스(Apache Mesos)는 클러스터에서 자원 공유를 위한 오픈소스 시스템이다.

#### 클러스터 기반 배포
클라우드 컴퓨팅 패러다임에는 서로 다른 세 개의 추상화 레벨이 있다.

* Iaas (Infrastructure as a Service)
* PaaS (Platform as a Service)
* SaaS (Software as a Service)

IaaS는 비어 있는 가상 머신을 이용해 SaaS로 실행할 소프트웨어를 컴퓨팅 인프라로 제공한다.
IaaS는 오픈스택이고, SaaS는 오픈 스택 위에서 동작하는 스파크와 동일하다고 볼 수 있다.
반대로 PaaS는 서비스로 제공되기 때문에 스파크 설치와 운영에 대한 부담을 덜어준다.

## 클러스터에 스파크 애플리케이션 배포

### 스파크 잡 제출
스파크 애플리케이션을 jar파일(스칼라 또는 자바로 작성) 또는 파이썬 파일로 묶으면 스파크 배포판의 bin디렉토리에 있는 spark-submit 스크립트를 사용해 해당 jar파일을 제출할 수 있다.


### 하둡 얀

### 아파치 메소스

### 쿠버네티스
다시 볼 것!!!

### AWS 배포

## 요약

